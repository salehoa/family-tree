# ุจุฑูุงูุฌ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ ๐ณ

## ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน
- **ุงูุงุณู**: ุจุฑูุงูุฌ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ (Family Tree)
- **ุงููุฏู**: ุจุฑูุงูุฌ ุดุงูู ูุฅุฏุงุฑุฉ ูุนุฑุถ ุฃุดุฌุงุฑ ุงูุนุงุฆูุงุช ูุน ุฅููุงููุฉ ุงูุจุญุซ ุนู ุงูุนูุงูุงุช ุจูู ุงูุฃูุฑุงุฏ
- **ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ**:
  - ุนุฑุถ ุฌููุน ุงูุนุงุฆูุงุช ุงููุณุฌูุฉ ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ
  - ุชุตูุญ ุฃูุฑุงุฏ ูู ุนุงุฆูุฉ ุจุดูู ุชูุตููู
  - ุงูุจุญุซ ุนู ุงูุนูุงูุฉ ุจูู ุฃู ุดุฎุตูู ูู ุงูุนุงุฆูุฉ
  - ูุธุงู ูุตุงุฏูุฉ ูููุณุชุฎุฏููู (Admin & Editor)
  - ููุญุฉ ุฅุฏุงุฑุฉ ููุฃุฏูู ูุฅุถุงูุฉ ูุญุฐู ุงููุณุชุฎุฏููู
  - ุฅููุงููุฉ ุฅูุดุงุก ุนุงุฆูุงุช ุฌุฏูุฏุฉ ูุชุนุฏูููุง
  - ุตูุงุญูุงุช ุชุนุฏูู ูุจููุฉ ุนูู ุงููุณุชุฎุฏู ูุงูุนุงุฆูุฉ

## ุงูุฑูุงุจุท
- **ุงูุจูุฆุฉ ุงููุญููุฉ**: http://localhost:3000
- **ุฑุงุจุท ุงููุตูู ุงูุนุงู**: https://3000-iw852boiuz8r3dn6d64id-a402f90a.sandbox.novita.ai
- **GitHub**: (ุณูุชู ุฅุถุงูุชู ุนูุฏ ุงููุดุฑ)

## ูุนูุงุฑูุฉ ุงูุจูุงูุงุช

### ูุงุนุฏุฉ ุงูุจูุงูุงุช (Cloudflare D1 SQLite)
ูุณุชุฎุฏู ุงููุดุฑูุน Cloudflare D1 ูุชุฎุฒูู ุงูุจูุงูุงุช ูุน ุงูุฌุฏุงูู ุงูุชุงููุฉ:

#### 1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)
- `id` - ูุนุฑู ุงููุณุชุฎุฏู
- `username` - ุงุณู ุงููุณุชุฎุฏู
- `password` - ูููุฉ ุงููุฑูุฑ
- `role` - ุงูุฏูุฑ (admin ุฃู editor)

#### 2. ุฌุฏูู ุงูุนุงุฆูุงุช (families)
- `id` - ูุนุฑู ุงูุนุงุฆูุฉ
- `name` - ุงุณู ุงูุนุงุฆูุฉ
- `description` - ูุตู ุงูุนุงุฆูุฉ
- `created_by` - ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃ ุงูุนุงุฆูุฉ

#### 3. ุฌุฏูู ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ (family_members)
- `id` - ูุนุฑู ุงููุฑุฏ
- `family_id` - ูุนุฑู ุงูุนุงุฆูุฉ
- `first_name` - ุงูุงุณู ุงูุฃูู
- `last_name` - ุงุณู ุงูุนุงุฆูุฉ
- `gender` - ุงูุฌูุณ (male/female)
- `birth_date` - ุชุงุฑูุฎ ุงููููุงุฏ
- `death_date` - ุชุงุฑูุฎ ุงูููุงุฉ (ุงุฎุชูุงุฑู)
- `bio` - ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ
- `photo_url` - ุฑุงุจุท ุงูุตูุฑุฉ

#### 4. ุฌุฏูู ุงูุนูุงูุงุช (relationships)
- `id` - ูุนุฑู ุงูุนูุงูุฉ
- `member_id` - ูุนุฑู ุงููุฑุฏ ุงูุฃูู
- `related_member_id` - ูุนุฑู ุงููุฑุฏ ุงูุซุงูู
- `relationship_type` - ููุน ุงูุนูุงูุฉ (parent, child, spouse, sibling)

#### 5. ุฌุฏูู ุงูุตูุงุญูุงุช (family_permissions)
- `user_id` - ูุนุฑู ุงููุณุชุฎุฏู
- `family_id` - ูุนุฑู ุงูุนุงุฆูุฉ
- `can_edit` - ุตูุงุญูุฉ ุงูุชุนุฏูู

### ุชุฏูู ุงูุจูุงูุงุช
1. **ุนุฑุถ ุงูุนุงุฆูุงุช**: ูุชู ุฌูุจ ุฌููุน ุงูุนุงุฆูุงุช ูู ุฌุฏูู `families`
2. **ุนุฑุถ ุงูุชูุงุตูู**: ุนูุฏ ุงูููุฑ ุนูู ุนุงุฆูุฉุ ูุชู ุฌูุจ ุงูุฃูุฑุงุฏ ูู `family_members` ูุงูุนูุงูุงุช ูู `relationships`
3. **ุงูุจุญุซ ุนู ุงูุนูุงูุฉ**: ูุชู ุงูุจุญุซ ูู ุฌุฏูู `relationships` ูุฅูุฌุงุฏ ุงูุนูุงูุฉ ุงููุจุงุดุฑุฉ ุจูู ุดุฎุตูู
4. **ุงููุตุงุฏูุฉ**: ูุชู ุงูุชุญูู ูู ุงููุณุชุฎุฏู ูู ุฌุฏูู `users`
5. **ุงูุตูุงุญูุงุช**: ูุชู ุงูุชุญูู ูู ุตูุงุญูุงุช ุงูุชุนุฏูู ูู ุฌุฏูู `family_permissions`

## ุฏููู ุงูุงุณุชุฎุฏุงู

### ููุฒุงุฆุฑูู (ุจุฏูู ุชุณุฌูู ุฏุฎูู)
1. **ุนุฑุถ ุงูุนุงุฆูุงุช**: ููููู ุฑุคูุฉ ุฌููุน ุงูุนุงุฆูุงุช ุงููุณุฌูุฉ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. **ุชุตูุญ ุงูุดุฌุฑุฉ**: ุงุถุบุท ุนูู ุฃู ุนุงุฆูุฉ ูุนุฑุถ ุฃูุฑุงุฏูุง ูุงูุนูุงูุงุช ุจูููู
3. **ุงูุจุญุซ ุนู ุงูุนูุงูุฉ**: 
   - ุงุฎุชุฑ ุงูุนุงุฆูุฉ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
   - ุงุฎุชุฑ ุงูุดุฎุต ุงูุฃูู
   - ุงุฎุชุฑ ุงูุดุฎุต ุงูุซุงูู
   - ุงุถุบุท ุนูู "ุงูุจุญุซ ุนู ุงูุนูุงูุฉ" ููุนุฑูุฉ ุงูุนูุงูุฉ ุจููููุง

### ูููุณุชุฎุฏููู ุงููุณุฌููู (Editor)
1. **ุชุณุฌูู ุงูุฏุฎูู**: ุงุถุบุท ุนูู "ุชุณุฌูู ุงูุฏุฎูู" ูู ุงูุฃุนูู
2. **ุฅูุดุงุก ุนุงุฆูุฉ ุฌุฏูุฏุฉ**: ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุนุงุฆูุฉ ุฌุฏูุฏุฉ"
3. **ุชุนุฏูู ุงูุนุงุฆูุฉ**: ุงุถุบุท ุนูู ุนุงุฆูุฉ ุซู "ุฅุถุงูุฉ ูุฑุฏ ุฌุฏูุฏ" ูุฅุถุงูุฉ ุฃุนุถุงุก
4. **ุฅุถุงูุฉ ุนูุงูุงุช**: ููููู ุฅุถุงูุฉ ุนูุงูุงุช ุจูู ุงูุฃูุฑุงุฏ

### ูููุณุคูููู (Admin)
**ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ**: `admin` / `admin123`

1. **ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ุงูุนุงุฏู**
2. **ููุญุฉ ุงูุฅุฏุงุฑุฉ**: ุงุถุบุท ุนูู "ููุญุฉ ุงูุฅุฏุงุฑุฉ" ูููุตูู ุฅูู:
   - ุฅุถุงูุฉ ูุณุชุฎุฏููู ุฌุฏุฏ
   - ุญุฐู ุงููุณุชุฎุฏููู
   - ููุญ/ุฅูุบุงุก ุตูุงุญูุงุช ุงูุชุนุฏูู ููุนุงุฆูุงุช

## ูุงุฌูุงุช API ุงููุชุงุญุฉ

### ุงููุตุงุฏูุฉ
- `POST /api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู

### ุงูุนุงุฆูุงุช (ุนุงูุฉ)
- `GET /api/families` - ุงูุญุตูู ุนูู ุฌููุน ุงูุนุงุฆูุงุช
- `GET /api/families/:id` - ุงูุญุตูู ุนูู ุชูุงุตูู ุนุงุฆูุฉ
- `GET /api/families/:id/members` - ุงูุญุตูู ุนูู ุฃูุฑุงุฏ ุนุงุฆูุฉ
- `GET /api/families/:id/relationships` - ุงูุญุตูู ุนูู ุนูุงูุงุช ุนุงุฆูุฉ
- `GET /api/families/:id/find-relationship?member1=X&member2=Y` - ุงูุจุญุซ ุนู ุนูุงูุฉ ุจูู ุดุฎุตูู

### ุงูุนุงุฆูุงุช (ุชุชุทูุจ ูุตุงุฏูุฉ)
- `POST /api/families` - ุฅูุดุงุก ุนุงุฆูุฉ ุฌุฏูุฏุฉ
- `PUT /api/families/:id` - ุชุญุฏูุซ ุนุงุฆูุฉ
- `POST /api/families/:id/members` - ุฅุถุงูุฉ ุนุถู ุฌุฏูุฏ
- `POST /api/families/:id/relationships` - ุฅุถุงูุฉ ุนูุงูุฉ ุฌุฏูุฏุฉ

### ุงูุฅุฏุงุฑุฉ (Admin ููุท)
- `GET /api/admin/users` - ุงูุญุตูู ุนูู ุฌููุน ุงููุณุชุฎุฏููู
- `POST /api/admin/users` - ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
- `DELETE /api/admin/users/:id` - ุญุฐู ูุณุชุฎุฏู
- `POST /api/admin/permissions` - ููุญ ุตูุงุญูุงุช
- `DELETE /api/admin/permissions/:userId/:familyId` - ุฅูุบุงุก ุตูุงุญูุงุช

## ุงูููุฒุงุช ุงูููุชููุฉ โ
1. โ ูุธุงู ุงููุตุงุฏูุฉ ูุงูุฌูุณุงุช
2. โ ุนุฑุถ ุฌููุน ุงูุนุงุฆูุงุช ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ
3. โ ุชุตูุญ ุฃูุฑุงุฏ ูู ุนุงุฆูุฉ
4. โ ุงูุจุญุซ ุนู ุงูุนูุงูุฉ ุจูู ุดุฎุตูู
5. โ ุฅูุดุงุก ุนุงุฆูุงุช ุฌุฏูุฏุฉ
6. โ ุฅุถุงูุฉ ุฃูุฑุงุฏ ุฌุฏุฏ ููุนุงุฆูุฉ
7. โ ูุธุงู ุงูุตูุงุญูุงุช
8. โ ููุญุฉ ุงูุฅุฏุงุฑุฉ (API)
9. โ ูุงุฌูุฉ ูุณุชุฎุฏู ุชูุงุนููุฉ

## ุงูููุฒุงุช ุงูููุชุฑุญุฉ ููุชุทููุฑ ๐
1. ๐ ุชุญุณูู ูุงุฌูุฉ ุนุฑุถ ุงูุดุฌุฑุฉ (ุฑุณู ุจูุงูู ุชูุงุนูู)
2. ๐ ุฅููุงููุฉ ุฑูุน ุตูุฑ ููุฃูุฑุงุฏ
3. ๐ ุชุตุฏูุฑ ุงูุดุฌุฑุฉ ูุตูุฑุฉ ุฃู PDF
4. ๐ ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู
5. ๐ ุณุฌู ุงูุชุนุฏููุงุช (Audit Log)
6. ๐ ุงูุจุญุซ ุงููุชูุฏู ุนู ุงูุฃูุฑุงุฏ
7. ๐ ุฅููุงููุฉ ุฏูุฌ ุนุงุฆูุงุช ูุฎุชููุฉ
8. ๐ ุญุณุงุจ ุฏุฑุฌุฉ ุงููุฑุงุจุฉ ุจุฏูุฉ ุฃูุจุฑ

## ุงููุดุฑ

### ุงูุจูุฆุฉ ุงููุญููุฉ
```bash
# ุชุซุจูุช ุงูููุชุจุงุช
npm install

# ุจูุงุก ุงููุดุฑูุน
npm run build

# ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:migrate:local
npm run db:seed

# ุชุดุบูู ุงูุฎุงุฏู
pm2 start ecosystem.config.cjs

# ุงุฎุชุจุงุฑ ุงูุฎุงุฏู
curl http://localhost:3000
```

### ุงููุดุฑ ุนูู Cloudflare Pages
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช D1
npx wrangler d1 create family-tree-db

# ุชุญุฏูุซ wrangler.jsonc ุจูุนุฑู ูุงุนุฏุฉ ุงูุจูุงูุงุช

# ุชุทุจูู Migrations ุนูู ุงูุฅูุชุงุฌ
npm run db:migrate:prod

# ุงููุดุฑ
npm run deploy:prod
```

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ
- **Backend**: Hono Framework
- **Frontend**: HTML + TailwindCSS + Vanilla JavaScript
- **Database**: Cloudflare D1 (SQLite)
- **Deployment**: Cloudflare Pages/Workers
- **Process Manager**: PM2
- **Build Tool**: Vite

## ุญุงูุฉ ุงููุดุฑ
- **ุงูุจูุฆุฉ ุงููุญููุฉ**: โ ูุดุท
- **ุงูุฅูุชุงุฌ**: โณ ุฌุงูุฒ ูููุดุฑ (ูุชุทูุจ ุฅุนุฏุงุฏ Cloudflare API)
- **ุขุฎุฑ ุชุญุฏูุซ**: 2025-11-02

## ููุงุญุธุงุช ูููุฉ
1. ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ ููู admin ูู: `admin123` - **ูุฌุจ ุชุบููุฑูุง ูู ุงูุฅูุชุงุฌ**
2. ูุณุชุฎุฏู ุงููุดุฑูุน ุชุฎุฒูู ูุญูู (localStorage) ููุฌูุณุงุช - ูู ุงูุฅูุชุงุฌ ูุฌุจ ุงุณุชุฎุฏุงู Cloudflare KV
3. ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ ุญุงููุงู ุจุณูุท - ูู ุงูุฅูุชุงุฌ ูุฌุจ ุงุณุชุฎุฏุงู bcrypt
4. ุงูุจุญุซ ุนู ุงูุนูุงูุงุช ุญุงููุงู ูุนุฑุถ ุงูุนูุงูุงุช ุงููุจุงุดุฑุฉ ููุท - ูููู ุชุทููุฑ ุฎูุงุฑุฒููุฉ ุฃุนูุฏ ููุนูุงูุงุช ุบูุฑ ุงููุจุงุดุฑุฉ

## ุงููุณุงููุฉ
ุงููุดุฑูุน ููุชูุญ ููุชุทููุฑ ูุงูุชุญุณูู. ููููู:
- ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ
- ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุฅุตูุงุญ ุงูุฃุฎุทุงุก
- ุชุญุณูู ุงูุฃุฏุงุก

## ุงูุชุฑุฎูุต
ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุญุฑ.
