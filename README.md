# ุจุฑูุงูุฌ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ - ุงูุฐููุฑ ููุท ๐ณ

## ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน
- **ุงูุงุณู**: ุจุฑูุงูุฌ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ (Family Tree - Males Only)
- **ุงูุฅุตุฏุงุฑ**: 2.0.0
- **ุงููุฏู**: ุจุฑูุงูุฌ ูุชุฎุตุต ูุฅุฏุงุฑุฉ ูุนุฑุถ ุฃุดุฌุงุฑ ุนุงุฆูุงุช ุงูุฐููุฑ ุจุดูู ุชูุงุนูู ูุดุฌุฑู ูุชูุฑุน
- **ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ**:
  - ุนุฑุถ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ ุจุดูู ุชูุงุนูู ูุชูุฑุน (ููุฐููุฑ ููุท)
  - ุนุฑุถ ุงูุฃุฌูุงู ุงููุชุนุงูุจุฉ ูู ุงูุฃุจ ุฅูู ุงูุฃุจูุงุก
  - ุฅููุงููุฉ ุงูุชูุจูุฑ ูุงูุชุตุบูุฑ ููุฃุดุฌุงุฑ ุงููุจูุฑุฉ
  - ุชุตููู ูุชุฌุงูุจ ูุชููู ูุน ุฌููุน ุงูุฃุฌูุฒุฉ
  - ูุธุงู ูุตุงุฏูุฉ ูููุณุชุฎุฏููู (Admin & Editor)
  - ุฅููุงููุฉ ุฅูุดุงุก ุนุงุฆูุงุช ุฌุฏูุฏุฉ ูุฅุถุงูุฉ ุฃูุฑุงุฏ
  - ุญุณุงุจ ุงูุนูุฑ ุชููุงุฆูุงู ูุน ุงูุชูููุฒ ุจูู ุงูุฃุญูุงุก ูุงููุชูููู

## ุงูุฑูุงุจุท
- **ุงูุจูุฆุฉ ุงููุญููุฉ**: http://localhost:3000
- **ุฑุงุจุท ุงููุตูู ุงูุนุงู**: https://3000-iw852boiuz8r3dn6d64id-a402f90a.sandbox.novita.ai
- **GitHub**: (ุณูุชู ุฅุถุงูุชู ุนูุฏ ุงููุดุฑ)

## ูุนูุงุฑูุฉ ุงูุจูุงูุงุช

### ูุงุนุฏุฉ ุงูุจูุงูุงุช (Cloudflare D1 SQLite)
ูุณุชุฎุฏู ุงููุดุฑูุน Cloudflare D1 ูุชุฎุฒูู ุงูุจูุงูุงุช ูุน ุงูุฌุฏุงูู ุงูุชุงููุฉ:

#### 1. ุฌุฏูู ุงููุณุชุฎุฏููู (users)
- `id` - ูุนุฑู ุงููุณุชุฎุฏู
- `username` - ุงุณู ุงููุณุชุฎุฏู
- `password` - ูููุฉ ุงููุฑูุฑ
- `role` - ุงูุฏูุฑ (admin ุฃู editor)

#### 2. ุฌุฏูู ุงูุนุงุฆูุงุช (families)
- `id` - ูุนุฑู ุงูุนุงุฆูุฉ
- `name` - ุงุณู ุงูุนุงุฆูุฉ
- `description` - ูุตู ุงูุนุงุฆูุฉ
- `created_by` - ุงููุณุชุฎุฏู ุงูุฐู ุฃูุดุฃ ุงูุนุงุฆูุฉ

#### 3. ุฌุฏูู ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ (family_members) - ุฐููุฑ ููุท
- `id` - ูุนุฑู ุงููุฑุฏ
- `family_id` - ูุนุฑู ุงูุนุงุฆูุฉ
- `father_id` - ูุนุฑู ุงูุฃุจ (NULL ููุฌุฏ ุงูุฃูุจุฑ)
- `first_name` - ุงูุงุณู ุงูุฃูู
- `last_name` - ุงุณู ุงูุนุงุฆูุฉ
- `birth_date` - ุชุงุฑูุฎ ุงููููุงุฏ
- `death_date` - ุชุงุฑูุฎ ุงูููุงุฉ (NULL ุฅุฐุง ูุงู ุญูุงู)
- `bio` - ุงูุณูุฑุฉ ุงูุฐุงุชูุฉ
- `photo_url` - ุฑุงุจุท ุงูุตูุฑุฉ
- `generation` - ุฑูู ุงูุฌูู (0 ููุฌุฏ ุงูุฃูุจุฑ)

#### 4. ุฌุฏูู ุงูุตูุงุญูุงุช (family_permissions)
- `user_id` - ูุนุฑู ุงููุณุชุฎุฏู
- `family_id` - ูุนุฑู ุงูุนุงุฆูุฉ
- `can_edit` - ุตูุงุญูุฉ ุงูุชุนุฏูู

### ุงููููู ุงูุดุฌุฑู
- ูู ูุฑุฏ ูุฑุชุจุท ุจูุงูุฏู ุนุจุฑ `father_id`
- ุงูุฌุฏ ุงูุฃูุจุฑ ูููู `father_id = NULL`
- ูุชู ุญุณุงุจ ุงูุฌูู ุชููุงุฆูุงู ุจูุงุกู ุนูู ุงูุฃุจ
- ูุชูุฑุน ุงูุฃุจูุงุก ูู ุงูุขุจุงุก ุจุดูู ุชุณูุณูู

---

## ุฏููู ุงูุงุณุชุฎุฏุงู

### ููุฒุงุฆุฑูู (ุจุฏูู ุชุณุฌูู ุฏุฎูู)
1. **ุนุฑุถ ุงูุนุงุฆูุงุช**: ููููู ุฑุคูุฉ ุฌููุน ุงูุนุงุฆูุงุช ุงููุณุฌูุฉ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. **ุชุตูุญ ุงูุดุฌุฑุฉ**: ุงุถุบุท ุนูู ุฃู ุนุงุฆูุฉ ูุนุฑุถ ุงูุดุฌุฑุฉ ุงููุงููุฉ
3. **ุงูุชุญูู ูู ุงูุนุฑุถ**:
   - ุฒุฑ ุงูุชูุจูุฑ (+): ูุชูุจูุฑ ุงูุดุฌุฑุฉ
   - ุฒุฑ ุงูุชุตุบูุฑ (-): ูุชุตุบูุฑ ุงูุดุฌุฑุฉ
   - ุฒุฑ ุฅุนุงุฏุฉ ุงูุถุจุท: ูุฅุนุงุฏุฉ ุงูุญุฌู ุงูุฃุตูู

### ูููุณุชุฎุฏููู ุงููุณุฌููู (Editors)
1. **ุชุณุฌูู ุงูุฏุฎูู**: ุงุถุบุท ุนูู "ุชุณุฌูู ุงูุฏุฎูู" ูู ุงูุฃุนูู
2. **ุฅูุดุงุก ุนุงุฆูุฉ ุฌุฏูุฏุฉ**: ุงุถุบุท ุนูู "ุฅุถุงูุฉ ุนุงุฆูุฉ ุฌุฏูุฏุฉ"
3. **ุฅุถุงูุฉ ุฃูุฑุงุฏ**: ุงูุชุญ ุงูุนุงุฆูุฉ ูุงุถุบุท "ุฅุถุงูุฉ ูุฑุฏ"

### ูููุณุคูููู (Admins)
**ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ**: `admin` / `admin123`

- ุฌููุน ุตูุงุญูุงุช ุงููุณุชุฎุฏู ุงูุนุงุฏู
- ููุญุฉ ุงูุฅุฏุงุฑุฉ ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช

---

## ูุงุฌูุงุช API ุงููุชุงุญุฉ

### ุงููุตุงุฏูุฉ
- `POST /api/auth/login` - ุชุณุฌูู ุงูุฏุฎูู

### ุงูุนุงุฆูุงุช (ุนุงูุฉ)
- `GET /api/families` - ุงูุญุตูู ุนูู ุฌููุน ุงูุนุงุฆูุงุช
- `GET /api/families/:id` - ุงูุญุตูู ุนูู ุชูุงุตูู ุนุงุฆูุฉ
- `GET /api/families/:id/tree` - **ุฌุฏูุฏ**: ุงูุญุตูู ุนูู ุงูุดุฌุฑุฉ ุงููุงููุฉ ุจุงููููู ุงูุดุฌุฑู
- `GET /api/families/:id/members` - ุงูุญุตูู ุนูู ูุงุฆูุฉ ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ

### ุงูุนุงุฆูุงุช (ุชุชุทูุจ ูุตุงุฏูุฉ)
- `POST /api/families` - ุฅูุดุงุก ุนุงุฆูุฉ ุฌุฏูุฏุฉ
- `PUT /api/families/:id` - ุชุญุฏูุซ ุนุงุฆูุฉ
- `POST /api/families/:id/members` - ุฅุถุงูุฉ ุนุถู ุฌุฏูุฏ (ุฐูุฑ ููุท)
- `PUT /api/families/:familyId/members/:memberId` - **ุฌุฏูุฏ**: ุชุญุฏูุซ ุนุถู
- `DELETE /api/families/:familyId/members/:memberId` - **ุฌุฏูุฏ**: ุญุฐู ุนุถู

### ุงูุฅุฏุงุฑุฉ (Admin ููุท)
- `GET /api/admin/users` - ุงูุญุตูู ุนูู ุฌููุน ุงููุณุชุฎุฏููู
- `POST /api/admin/users` - ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
- `DELETE /api/admin/users/:id` - ุญุฐู ูุณุชุฎุฏู
- `POST /api/admin/permissions` - ููุญ ุตูุงุญูุงุช
- `DELETE /api/admin/permissions/:userId/:familyId` - ุฅูุบุงุก ุตูุงุญูุงุช

---

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูู ุงูุฅุตุฏุงุฑ 2.0 โจ

### 1. ุงูุฐููุฑ ููุท
- โ ุชู ุฅุฒุงูุฉ ุญูู ุงูุฌูุณ - ุงูุฌููุน ุฐููุฑ
- โ ุชุจุณูุท ุงูุจูุงูุงุช ูุงููุงุฌูุฉ

### 2. ุงููููู ุงูุดุฌุฑู
- โ ุจููุฉ ุดุฌุฑูุฉ ุญููููุฉ ุจุงุณุชุฎุฏุงู `father_id`
- โ ุฅุฒุงูุฉ ุฌุฏูู ุงูุนูุงูุงุช ุงููุนูุฏ
- โ ุญุณุงุจ ุงูุฃุฌูุงู ุชููุงุฆูุงู

### 3. ุงูุนุฑุถ ุงูุชูุงุนูู
- โ ุนุฑุถ ุงูุดุฌุฑุฉ ุจุดูู ูุชูุฑุน ุฌููู
- โ ุงูุชูุจูุฑ ูุงูุชุตุบูุฑ (Zoom In/Out)
- โ ุฅุนุงุฏุฉ ุถุจุท ุงูุนุฑุถ (Reset)
- โ ุฎุทูุท ุชูุถุญ ุงูุนูุงูุงุช ุจูู ุงูุฃุฌูุงู

### 4. ุงูุชุตููู ุงููุชุฌุงูุจ
- โ ูุชููู ูุน ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช
- โ ุชุตููู ุฎุงุต ููููุงุชู ูุงูุชุงุจูุช
- โ ุชุญุณููุงุช ูู ุงููุณุงุญุงุช ูุงูุฎุทูุท

### 5. ุชุญุณููุงุช ุฃุฎุฑู
- โ ุญุณุงุจ ุงูุนูุฑ ุชููุงุฆูุงู
- โ ุงูุชูููุฒ ุจูู ุงูุฃุญูุงุก ูุงููุชูููู
- โ ุนุฑุถ ุฑูู ุงูุฌูู ููู ูุฑุฏ
- โ ุนุฏ ุงูุฃุจูุงุก ููู ูุฑุฏ

---

## ุงูููุฒุงุช ุงููุญุฐููุฉ ๐๏ธ
- โ ุญูู ุงูุฌูุณ (gender)
- โ ุฌุฏูู ุงูุนูุงูุงุช (relationships)
- โ ุงูุจุญุซ ุนู ุงูุนูุงูุงุช
- โ ุงูุฅูุงุซ ูู ุงูุจูุงูุงุช

---

## ูุซุงู ุนูู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

### ุดุฌุฑุฉ ุนุงุฆูุฉ ุงูุฃุญูุฏ (20 ูุฑุฏ - 4 ุฃุฌูุงู)

**ุงูุฌูู ุงูุฃูู (ุงูุฌุฏ ุงูุฃูุจุฑ)**
- ุนุจุฏุงููู ุงูุฃุญูุฏ (1920)

**ุงูุฌูู ุงูุซุงูู (ุฃุจูุงุก ุนุจุฏุงููู)**
- ูุญูุฏ ุงูุฃุญูุฏ (1945)
- ุฃุญูุฏ ุงูุฃุญูุฏ (1948)
- ุนูู ุงูุฃุญูุฏ (1952)

**ุงูุฌูู ุงูุซุงูุซ (ุงูุฃุญูุงุฏ)**
- ูู ูุญูุฏ: ุนุจุฏุงูุฑุญููุ ุนุจุฏุงูุนุฒูุฒุ ุฎุงูุฏ
- ูู ุฃุญูุฏ: ููุฏุ ุณุนูุฏ
- ูู ุนูู: ูุงุฌุฏุ ุทุงุฑู

**ุงูุฌูู ุงูุฑุงุจุน (ุฃุจูุงุก ุงูุฃุญูุงุฏ)**
- ูู ุนุจุฏุงูุฑุญูู: ูุญูุฏุ ุนุจุฏุงููู
- ูู ุนุจุฏุงูุนุฒูุฒ: ุฃุญูุฏุ ุณูุทุงูุ ููุตู
- ูู ุฎุงูุฏ: ููุณูุ ุนูุฑ
- ูู ููุฏ: ูุงุตุฑุ ุณุนุฏ

---

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

**Backend:**
- Hono Framework
- Cloudflare D1 (SQLite)
- TypeScript

**Frontend:**
- Vanilla JavaScript
- Tailwind CSS
- Font Awesome
- Axios

**DevOps:**
- Vite (Build tool)
- PM2 (Process manager)
- Git (Version control)

---

## ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงูุจูุฆุฉ ุงููุญููุฉ
```bash
# ุชุซุจูุช ุงูููุชุจุงุช
npm install

# ุจูุงุก ุงููุดุฑูุน
npm run build

# ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run db:migrate:local
npm run db:seed

# ุชุดุบูู ุงูุฎุงุฏู
pm2 start ecosystem.config.cjs

# ุงุฎุชุจุงุฑ ุงูุฎุงุฏู
curl http://localhost:3000
```

### ุงููุดุฑ ุนูู Cloudflare Pages
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช D1
npx wrangler d1 create family-tree-db

# ุชุญุฏูุซ wrangler.jsonc ุจูุนุฑู ูุงุนุฏุฉ ุงูุจูุงูุงุช

# ุชุทุจูู Migrations ุนูู ุงูุฅูุชุงุฌ
npm run db:migrate:prod

# ุงููุดุฑ
npm run deploy:prod
```

---

## ุงูุญุงูุฉ

- **ุงูุจูุฆุฉ ุงููุญููุฉ**: โ ูุนูู ุจุดูู ูุงูู
- **ุงูุฑุงุจุท ุงูุนุงู**: https://3000-iw852boiuz8r3dn6d64id-a402f90a.sandbox.novita.ai
- **ุงูุฅูุชุงุฌ**: โณ ุฌุงูุฒ ูููุดุฑ ุนูู Cloudflare Pages
- **ุขุฎุฑ ุชุญุฏูุซ**: 2025-11-02 (ุงูุฅุตุฏุงุฑ 2.0)

---

## ููุงุญุธุงุช ูููุฉ

1. **ุงูุฐููุฑ ููุท**: ุงูุจุฑูุงูุฌ ูุตูู ููุฐููุฑ ููุท - ูุง ูููู ุฅุถุงูุฉ ุฅูุงุซ
2. **ุงููููู ุงูุดุฌุฑู**: ูู ูุฑุฏ ูุฌุจ ุฃู ูููู ูู ุฃุจ (ุฅูุง ุงูุฌุฏ ุงูุฃูุจุฑ)
3. **ูููุฉ ุงููุฑูุฑ**: `admin123` - ูุฌุจ ุชุบููุฑูุง ูู ุงูุฅูุชุงุฌ
4. **ุงูุชูุจูุฑ**: ุงุณุชุฎุฏู ุฃุฒุฑุงุฑ ุงูุชูุจูุฑ/ุงูุชุตุบูุฑ ููุฃุดุฌุงุฑ ุงููุจูุฑุฉ
5. **ุงูุชุตููู ุงููุชุฌุงูุจ**: ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ ุจุดูู ูุซุงูู

---

## ุงููุณุงููุฉ

ุงููุดุฑูุน ููุชูุญ ููุชุทููุฑ ูุงูุชุญุณูู. ููููู:
- ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ
- ุชุญุณูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุฅุตูุงุญ ุงูุฃุฎุทุงุก
- ุชุญุณูู ุงูุฃุฏุงุก

---

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุญุฑ.
